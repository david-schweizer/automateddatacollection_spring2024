<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Data Visualization for Comparative Politics - Course Website - Syllabus: Automated Data Collection</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="css/custom.css">
</head>

<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./syllabus.html">Syllabus</a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-center sidebar-header">
      <a href="./index.html" class="sidebar-logo-link">
      <img src="./images/hex_sticker.png" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
      <div class="sidebar-tools-main tools-wide">
    <a href="https://datavis-fall2023.slack.com" rel="" title="Slack" class="quarto-navigation-tool px-1" aria-label="Slack"><i class="bi bi-slack"></i></a>
    <a href="https://ilias.uni-mannheim.de/goto.php?target=crs_1413212&amp;client_id=ILIAS" rel="" title="Ilias" class="quarto-navigation-tool px-1" aria-label="Ilias"><i class="bi bi-bank"></i></a>
    <a href="https://www.datacamp.com/" rel="" title="Datacamp" class="quarto-navigation-tool px-1" aria-label="Datacamp"><i class="bi bi-rocket"></i></a>
</div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Home</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./syllabus.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Syllabus</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./material.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Schedule, slides &amp; materials</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#course-details" id="toc-course-details" class="nav-link active" data-scroll-target="#course-details"><strong>Course details</strong></a></li>
  <li><a href="#course-description" id="toc-course-description" class="nav-link" data-scroll-target="#course-description"><strong>Course description</strong></a></li>
  <li><a href="#prerequisites" id="toc-prerequisites" class="nav-link" data-scroll-target="#prerequisites"><strong>Prerequisites</strong></a></li>
  <li><a href="#course-requirements" id="toc-course-requirements" class="nav-link" data-scroll-target="#course-requirements"><strong>Course requirements</strong></a></li>
  <li><a href="#organization-learning-resources" id="toc-organization-learning-resources" class="nav-link" data-scroll-target="#organization-learning-resources"><strong>Organization &amp; Learning Resources</strong></a></li>
  <li><a href="#textbooks" id="toc-textbooks" class="nav-link" data-scroll-target="#textbooks"><strong>Textbooks</strong></a></li>
  <li><a href="#course-schedule" id="toc-course-schedule" class="nav-link" data-scroll-target="#course-schedule"><strong>Course Schedule</strong></a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Syllabus: Automated Data Collection</h1>
<p class="subtitle lead">Spring 2024</p>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="course-details" class="level2">
<h2 class="anchored" data-anchor-id="course-details"><strong>Course details</strong></h2>
<table class="table">
<colgroup>
<col style="width: 26%">
<col style="width: 70%">
</colgroup>
<tbody>
<tr class="odd">
<td>Seminar:</td>
<td>Übung - Methoden der Vergleichenden Regierungslehre</td>
</tr>
<tr class="even">
<td>Time:</td>
<td>Tuesday, 15:30 – 17:00, &nbsp;February 13 to May 28</td>
</tr>
<tr class="odd">
<td>Place:</td>
<td>C -108 Methodenlabor - groß/ Telefonlabor (A 5, 6 Bauteil C)</td>
</tr>
<tr class="even">
<td>Language:</td>
<td>English</td>
</tr>
<tr class="odd">
<td>Instructor:</td>
<td>David Schweizer, M.A., david.schweizer@uni-mannheim.de</td>
</tr>
<tr class="even">
<td>Office hours:</td>
<td>In-person (A 340) or via Zoom, Tuesday 13:45 – 15:15, please make an appointment by e-mail</td>
</tr>
<tr class="odd">
<td>Course website:</td>
<td></td>
</tr>
<tr class="even">
<td>Syllabus as PDF</td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="course-description" class="level2">
<h2 class="anchored" data-anchor-id="course-description"><strong>Course description</strong></h2>
<p><strong><br>
</strong>Against the background of the ever-increasing availability of (unstructured) online data, the goal of this course is to equip the students with the necessary skills to collect large quantities of data for their own research projects, to process the data, and to automate this workflow in a reproducible way.</p>
<p>The course introduces students to automated data collection using a very practical approach with the R programming language. The course consists of three major modules. First, you will be guided into the programming language and learn the fundamentals of R. No prior experience with R is necessary. Among other things, we will cover how to import, transform, and visualize data. Second, we will focus on the workflow for reproducible research. For example, this includes version control via Github. Third, we will cover static and dynamic web scraping as well as APIS’s from a conceptual perspective and use these tools to collect web data. Finally, we will also learn how to automate this process.</p>
</section>
<section id="prerequisites" class="level2">
<h2 class="anchored" data-anchor-id="prerequisites"><strong>Prerequisites</strong></h2>
<p>There are no prerequisites for this course, except the willingness to familiarise yourself with the R programming language.</p>
</section>
<section id="course-requirements" class="level2">
<h2 class="anchored" data-anchor-id="course-requirements"><strong>Course requirements</strong></h2>
<p><strong>Active participation and preparation:</strong></p>
<p>Attending the weekly sessions and reading assigned articles and chapters before class. Use Slack to post any questions or discuss with your peers if you do not understand concepts. Usually, I post questions to think about regarding the readings. Keep them in mind while reading.</p>
<p><strong>Short presentation</strong></p>
<p>Throughout the semester, I will assign you in groups of 2-3 to participate in the TidyTuesday challenge (<a href="https://github.com/rfordatascience/tidytuesday" class="uri">https://github.com/rfordatascience/tidytuesday</a>). The goal is to produce anything from simple plots to advanced graphics and present your work process in the next session.</p>
<p><strong>Data project (100% of your grade):</strong></p>
<p>Creation of multiple visualizations of (political) data. While it is possible to produce static visualizations and hand in a PDF, ideally the visualizations are part of an interactive (web) dashboard. The visualization project has to be submitted via ILIAS. Late submissions will result in deductions of 1/3 of a grade point per day. <strong>In case of any questions or problems, please get in touch with me early. Deadline:</strong> January 18, 2024, 23:59.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true">Content</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">Quantity</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-3" role="tab" aria-controls="tabset-1-3" aria-selected="false">Quality</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<div style="font-size: 80%;">
<ul>
<li><p>Your final project should relate to a research question broadly related to political science and comparative politics.</p></li>
<li><p>First, you should describe the motivation for your visualization project.</p></li>
<li><p>Second, make a theoretical argument for the relationships you are investigating.</p></li>
<li><p>Third, describe the data source.</p></li>
<li><p>Fourth, annotate your coding (import, transformation, …) extensively.</p></li>
</ul>
</div>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<div style="font-size: 80%;">
<ul>
<li><p>It is difficult to determine a exact “number of plots” needed. Of course, you can display much more information in an interactive Shiny app than in a static dashboard.</p></li>
<li><p>You should produce <em>enough</em> plots (visualizations) to effectively address your research question. Description is totally fine!</p></li>
<li><p>Note: This is also where the individual office hour comes into play!</p></li>
</ul>
</div>
</div>
<div id="tabset-1-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-3-tab">
<div style="font-size: 80%;">
<ul>
<li><p>We have spoken a lot about how we can produce elegant graphs.</p></li>
<li><p>Therefore, the design of the visualizations will make up a considerable share of your grade.</p></li>
<li><p>Remember? <strong>C</strong>ontrast,&nbsp;<strong>R</strong>epetition,&nbsp;<strong>A</strong>lignment, and&nbsp;<strong>P</strong>roximity</p></li>
<li><p>Creating your own theme!</p></li>
<li><p>All the <em>little</em> things: Titles, captions, accompanying text, colors, different aesthetics, …</p></li>
<li><p>Here, there is clearly potential for bonus points for effort.</p></li>
</ul>
</div>
</div>
</div>
</div>
</section>
<section id="organization-learning-resources" class="level2">
<h2 class="anchored" data-anchor-id="organization-learning-resources"><strong>Organization &amp; Learning Resources</strong></h2>
<p><strong>Course website, Slack, and ILIAS:</strong></p>
<p>The plan is to use primarily the course website and Slack for providing the structure of the seminar and communication, respectively. Nevertheless, you will also receive mails via ILIAS. Make sure to regularly check your university e-mail address.</p>
<ul>
<li><p>You can find the course website here: <a href="https://datavisualizationfall2023.netlify.app/" title="https://datavisualizationfall2023.netlify.app/">Link</a></p></li>
<li><p>The ILIAS seminar name is: Ü Methoden der Vergleichenden Regierungslehre: Data Visualization for Comparative Politics [WÜB] [1. PG] (HWS 2023). Ensure that you have access to the system and that e-mails sent over ILIAS are forwarded to the e-mail account you check regularly.</p></li>
<li><p>If you have contacted me with a question via any channel and you did not hear back after 2 days (except over the weekend), please just send me your question again!</p></li>
</ul>
<p><strong>Office hours:</strong></p>
<ul>
<li><p>In-person (A 340) or via Zoom, Thu 15:30 – 16:30, please make an appointment by e-mail.</p></li>
<li><p>If you have a specific question or problem (e.g., finding a research question), please tell me before coming to the office hours (when making the appointment). This way , I can also prepare for it and thereby making our meeting more productive and constructive.</p></li>
</ul>
<p><strong>Covid-19 (and general illness):</strong></p>
<ul>
<li>If you feel ill or have symptoms, please be considerate of your fellow students and yourself(!). Just let me know by e-mail.</li>
</ul>
<p><strong>Students with disabilities or chronic illnesses:</strong></p>
<ul>
<li><p>Please contact me or the Office of Student Affairs if you need special assistance due to disabilities or chronic illnesses.</p></li>
<li><p>And please do this early in the semester so that we can make the appropriate arrangements immediately.</p></li>
</ul>
<p><strong>If you need support:</strong></p>
<p>Of course, you can always talk directly to me if you feel comfortable with the question. It is important to note that the <a href="https://www.uni-mannheim.de/gleichstellung/beratung/">University’s Equality and Diversity Office</a> supports and advises you in cases of discrimination or sexual harassment. The responsible contact person in such a case is Dipl.-Psych. Ute Pfründer. She is trained to deal with such incidents and will keep everything strictly confidential. No action will be taken without your express consent. Further counseling services offered by the university can be found via this <a href="https://www.uni-mannheim.de/studium/beratung-und-service/beratungswegweiser/">link</a>.</p>
</section>
<section id="textbooks" class="level2">
<h2 class="anchored" data-anchor-id="textbooks"><strong>Textbooks</strong></h2>
<p>The primary readings for this seminar are chapters from the following books:</p>
<ul>
<li><p>Cairo, Alberto<em>. The truthful art: Data, charts, and maps for communication</em>. New Riders, 2016. <em>Free access via Katalog Primo (UB Mannheim)</em></p></li>
<li><p>Healy, Kieran. <em>Data visualization: a practical introduction</em>. Princeton University Press, 2018. <em>Free access via Katalog Primo and free online: https://socviz.co/</em></p></li>
<li><p>Wilke, Claus E. <em>Fundamentals of Data Visualization</em>. O’Reilly Media, 2018). <em>Free access via Katalog Primo and free online: https://clauswilke.com/dataviz/</em></p></li>
</ul>
</section>
<section id="course-schedule" class="level2">
<h2 class="anchored" data-anchor-id="course-schedule"><strong>Course Schedule</strong></h2>
<table class="table">
<colgroup>
<col style="width: 15%">
<col style="width: 18%">
<col style="width: 41%">
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Week</strong></td>
<td><strong>Date</strong></td>
<td><strong>Topic</strong></td>
</tr>
<tr class="even">
<td>1</td>
<td>13.02.2024</td>
<td>Intro Session</td>
</tr>
<tr class="odd">
<td>2</td>
<td>20.02.2024</td>
<td>The Tidyverse</td>
</tr>
<tr class="even">
<td>3</td>
<td>27.02.2024</td>
<td>Data Wrangling</td>
</tr>
<tr class="odd">
<td>4</td>
<td>05.03.2024</td>
<td>Making plots</td>
</tr>
<tr class="even">
<td>5</td>
<td>12.03.2024</td>
<td>Version control I</td>
</tr>
<tr class="odd">
<td>6</td>
<td>19.03.2024</td>
<td>Version control II</td>
</tr>
<tr class="even">
<td>7</td>
<td>26.03.2024</td>
<td>No Session; Easter Break</td>
</tr>
<tr class="odd">
<td>8</td>
<td>02.04.2024</td>
<td>No Session, Easter Break</td>
</tr>
<tr class="even">
<td>9</td>
<td>09.04.2024</td>
<td>APIs</td>
</tr>
<tr class="odd">
<td>10</td>
<td>16.04.2024</td>
<td>Webscraping I: Intro</td>
</tr>
<tr class="even">
<td>11</td>
<td>23.04.2024</td>
<td>Webscraping II: Static</td>
</tr>
<tr class="odd">
<td>12</td>
<td>30.04.2024</td>
<td>Webscraping II: Interactive</td>
</tr>
<tr class="even">
<td>13</td>
<td>07.05.2024</td>
<td>Interactive I</td>
</tr>
<tr class="odd">
<td>14</td>
<td>14.05.2024</td>
<td>Interactive II</td>
</tr>
<tr class="even">
<td>15</td>
<td>21.05.2024</td>
<td>Interactive III</td>
</tr>
<tr class="odd">
<td>16</td>
<td>28.05.2024</td>
<td>Closing Session</td>
</tr>
</tbody>
</table>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">Data Visualization for Comparative Politics | Fall 2023 | University of Mannheim</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">This page is built with <a href="https://quarto.org/">Quarto</a>.</div>
  </div>
</footer>



</body></html>